# Case-study оптимизации

## Актуальные проблемы

### Проблема №1
В нашем проекте возникла проблема. 

При увеличении объёма данных для импорта - слишком сильно увеличивается время работы скрипта 

Мы решили исправить эту проблему, оптимизировав данный скрипт

## Проблема №1: Формирование метрики
Для того, чтобы понимать, дают ли мои изменения положительный эффект на быстродействие программы я придумал использовать такую метрику: при помощи benchmark замерять сколько необходимо времени для успешного завершения программы. 
При помощи профилировщика RubyProf оценить объём аллоцируемой памяти. И при помощи valgrind-massif оценить кол-во потребляемой скриптом памяти программы.

## Проблема №1: Гарантия корректности работы оптимизированной программы
Для оценки работоспособности программы необхожимо написать тесты, чтобы в фидбек-лупе не позволять изменение логики программы при оптимизации.

## Проблема №1: Feedback-Loop
Для того, чтобы иметь возможность быстро проверять гипотезы я выстроил эффективный `feedback-loop`, который позволил мне получать обратную связь по эффективности сделанных изменений за 15 сек

Вот как я построил `feedback_loop`:
1. Замерил с помощью benchmark сколько времени нужно программе для завершения работы
2. Замерил с помощью Ruby-Prof кол-во аллоцируемой памяти
3. Замерил при помощи valgrind-massif сколько памяти использует скрипт во время всей работы
4. Проанализировал метрики
5. Нашел главную точку роста
6. Оптимизировал точку роста
7. Получилось увеличить скорость? -> Commit. Не получилось увеличить или получили обратный эффект -> Revert

### Проблема №1: Находка №1
- Какой отчёт показал главную точку роста
- Как вы решили её оптимизировать
- Как изменилась метрика
- Как изменился отчёт профилировщика - исправленная проблема перестала быть главной точкой роста?

## Проблема №1: Результаты
-

## Проблема №1: Защита от регрессии производительности
-
